<div [formGroup]="form">
    <!--label [attr.for]="question.key">{{question.label}}</label-->

    <div [ngSwitch]="question.controlType">

        <md-form-field *ngSwitchCase="'textbox'">
            <input mdInput [formControlName]="question.key" [id]="question.key" [type]="question.type" placeholder="{{question.label}}">
        </md-form-field>

        <md-form-field *ngSwitchCase="'textarea'">
            <textarea #message mdInput md-autosize [formControlName]="question.key" [id]="question.key" [type]="question.type" placeholder="{{question.label}}">
      </textarea>
            <md-hint align="start"><strong> {{ question.hint }} </strong> </md-hint>
            <md-hint *ngIf="question.maxLength" align="end">{{message.value?.length}} / {{question.maxLength}}</md-hint>
        </md-form-field>

        <!-- <select [id]="question.key" *ngSwitchCase="'dropdown'" [formControlName]="question.key">
      <option *ngFor="let opt of question.options" [value]="opt.name">{{opt.name}}</option>
    </select> -->

        <div *ngSwitchCase="'multiold'">
            <md-form-field>
                <input mdInput placeholder="{{question.label}}" [mdAutocomplete]="auto" [formControlName]="question.key">
            </md-form-field>
            {{question.options}}
            <md-autocomplete #auto="mdAutocomplete">
                <md-option *ngFor="let opt of question.options " [value]="opt.name">
                    {{ opt.name }}
                </md-option>

            </md-autocomplete>
        </div>

        <div *ngSwitchCase="'autocompleteold'">
            <md-form-field>
                <input mdInput placeholder="{{question.label}}" [mdAutocomplete]="auto" [formControlName]="question.key">
            </md-form-field>
            <md-autocomplete #auto="mdAutocomplete">
                <md-option *ngFor="let opt of question.options" [value]="opt.name">
                    {{ opt.name }}
                </md-option>

            </md-autocomplete>
        </div>

        <!-- check for updates, since you cant save the object([value]="foi")  only [value]="foi.name" works -->
        <div *ngSwitchCase="'dropdown'" style="width: 180px">
            <md-select style="width: 12.5rem; padding: 1rem 0;" placeholder="{{question.label}}" [formControlName]="question.key">
                <md-option *ngFor="let opt of question.options" [value]="opt.name">
                    <span>{{ opt.name }}</span>
                    <small>{{opt.desc}}</small>
                </md-option>
            </md-select>
        </div>


        <!-- check for updates, since you cant save the object([value]="foi")  only [value]="foi.name" works -->
        <div *ngSwitchCase="'multi-select'" style="width: 180px">
            <md-select style="width: 12.5rem; padding: 1rem 0;" multiple placeholder="{{question.label}}" [formControlName]="question.key">
                <md-option *ngFor="let opt of question.options" [value]="opt.name">
                    <span>{{ opt.name }}</span>
                    <small>{{opt.desc}}</small>
                </md-option>
            </md-select>
        </div>

    </div>
    <div class="errorMessage" *ngIf="showErrorMsg">{{question.label}} is required</div>
</div>